<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa5_2021li1g006</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Jo&#227;o Pedro Mota Baptista &lt;a100705@alunos.uminho.pt&gt;;<br />: Mariana Pinto &lt;a100756@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa5_2021li1g006</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 5 do projeto de LI1 em 2021/22.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Options">Options</a><ul class="subs"><li>= <a href="#v:Play">Play</a></li><li>| <a href="#v:Instructions">Instructions</a></li><li>| <a href="#v:Exit">Exit</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Status">Status</a><ul class="subs"><li>= <a href="#v:Controller">Controller</a> <a href="Tarefa5_2021li1g006.html#t:Options" title="Tarefa5_2021li1g006">Options</a> Float</li><li>| <a href="#v:GameMode">GameMode</a> <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> Float Int Float</li><li>| <a href="#v:Win">Win</a> Int Float</li></ul></li><li class="src short"><a href="#v:window">window</a> :: Display</li><li class="src short"><a href="#v:background">background</a> :: Color</li><li class="src short"><a href="#v:fr">fr</a> :: Int</li><li class="src short"><a href="#v:makeButton">makeButton</a> :: String -&gt; Picture</li><li class="src short"><a href="#v:instructionsButton">instructionsButton</a> :: Picture</li><li class="src short"><a href="#v:draw">draw</a> :: Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> -&gt; IO Picture</li><li class="src short"><a href="#v:paraGloss">paraGloss</a> :: Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> -&gt; Picture</li><li class="src short"><a href="#v:jogoinicial">jogoinicial</a> :: Float -&gt; Int -&gt; Float -&gt; IO <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a></li><li class="src short"><a href="#v:time">time</a> :: Float -&gt; <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> -&gt; IO <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a></li><li class="src short"><a href="#v:mapa1">mapa1</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:mapa2">mapa2</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:mapa3">mapa3</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:event">event</a> :: Event -&gt; <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> -&gt; IO <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a></li><li class="src short"><a href="#v:cordx">cordx</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Int</li><li class="src short"><a href="#v:cordy">cordy</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Int</li><li class="src short"><a href="#v:estado">estado</a> :: <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a></li><li class="src short"><a href="#v:main">main</a> :: IO ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Options" class="def">Options</a> <a href="#t:Options" class="selflink">#</a></p><div class="doc"><p>Op&#231;&#245;es do menu: Play, Instructions e Exit.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Play" class="def">Play</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Instructions" class="def">Instructions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Exit" class="def">Exit</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Status" class="def">Status</a> <a href="#t:Status" class="selflink">#</a></p><div class="doc"><p>Todos os estados poss&#237;veis seguidos de um Float (O float resume se no scale do jogo inteiro. Gra&#231;as a este float &#233; poss&#237;vel aumentar ou diminuir o scale do jogo em rela&#231;&#227;o &#224; janela mesmo dentro do jogo): Controller seguido do data Options (Menu e a op&#231;&#227;o selecionada), Gamemode seguido do Jogo com a informa&#231;&#227;o dos segundos decorridos guardada (Modo de Jogo), Instructionss (P&#225;gina das instru&#231;&#245;es), Win (Quando o player ganha)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Controller" class="def">Controller</a> <a href="Tarefa5_2021li1g006.html#t:Options" title="Tarefa5_2021li1g006">Options</a> Float</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:GameMode" class="def">GameMode</a> <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> Float Int Float</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Win" class="def">Win</a> Int Float</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:window" class="def">window</a> :: Display <a href="#v:window" class="selflink">#</a></p><div class="doc"><p>Janela do jogo, que neste caso &#233; Fullscreen.</p></div></div><div class="top"><p class="src"><a id="v:background" class="def">background</a> :: Color <a href="#v:background" class="selflink">#</a></p><div class="doc"><p>Cor de fundo.</p></div></div><div class="top"><p class="src"><a id="v:fr" class="def">fr</a> :: Int <a href="#v:fr" class="selflink">#</a></p><div class="doc"><p>Frames por segundo.</p></div></div><div class="top"><p class="src"><a id="v:makeButton" class="def">makeButton</a> :: String -&gt; Picture <a href="#v:makeButton" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o cria um bot&#227;o consoante a string que lhe &#233; dada para criar as op&#231;&#245;es do menu.</p><p>Por exemplo:</p><p>makeButton Play produz a picture do bot&#227;o play do menu.</p></div></div><div class="top"><p class="src"><a id="v:instructionsButton" class="def">instructionsButton</a> :: Picture <a href="#v:instructionsButton" class="selflink">#</a></p><div class="doc"><p>instructionsButton &#233; especificamente o bot&#227;o do menu de Instrutcions. N&#227;o d&#225; para usar a fun&#231;&#227;o makeButton pois <a href="Instructions.html">Instructions</a> n&#227;o ficava centrado no bot&#227;o, tendo de cri&#225;-lo &#224; parte.</p></div></div><div class="top"><p class="src"><a id="v:draw" class="def">draw</a> :: Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> -&gt; IO Picture <a href="#v:draw" class="selflink">#</a></p><div class="doc"><p>draw &#233; a fun&#231;&#227;o que desenha tudo na janela: Menu quando as v&#225;rias op&#231;&#245;es est&#227;o selecionadas, Modo de Jogo (se o mapa for v&#225;lido pela T1), Estado de Venceu e P&#225;gina de Instru&#231;&#245;es.</p></div></div><div class="top"><p class="src"><a id="v:paraGloss" class="def">paraGloss</a> :: Picture -&gt; Picture -&gt; Picture -&gt; Picture -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> -&gt; Picture <a href="#v:paraGloss" class="selflink">#</a></p><div class="doc"><p>paraGloss traduz as coordenadas da fase 1 para as coordenadas do Gloss e tamb&#233;m desenha as pe&#231;as do jogo, sendo uma fun&#231;&#227;o auxiliar da fun&#231;&#227;o draw, quando estamos no Modo de Jogo. Para al&#233;m disso, guarda a informa&#231;&#227;o do Modo de Jogo e alterna a cor da porta de 500 em 500 milissegundos.</p></div></div><div class="top"><p class="src"><a id="v:jogoinicial" class="def">jogoinicial</a> :: Float -&gt; Int -&gt; Float -&gt; IO <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> <a href="#v:jogoinicial" class="selflink">#</a></p><div class="doc"><p>Ponto de partida do jogo, que inclui o mapa1, mapa2 e o tempo de jogo decorrido consoante as vari&#225;veis inseridas.</p></div></div><div class="top"><p class="src"><a id="v:time" class="def">time</a> :: Float -&gt; <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> -&gt; IO <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> <a href="#v:time" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o &#233; respons&#225;vel por guardar no GameMode o tempo decorrido em segundos (float) para que seja poss&#237;vel alternar a cor da porta de 500 em 500 milissegundos.</p></div></div><div class="top"><p class="src"><a id="v:mapa1" class="def">mapa1</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:mapa1" class="selflink">#</a></p><div class="doc"><p>Primeiro mapa do jogo.</p></div></div><div class="top"><p class="src"><a id="v:mapa2" class="def">mapa2</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:mapa2" class="selflink">#</a></p><div class="doc"><p>Segundo mapa do jogo.</p></div></div><div class="top"><p class="src"><a id="v:mapa3" class="def">mapa3</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:mapa3" class="selflink">#</a></p><div class="doc"><p>Terceiro mapa do jogo.</p></div></div><div class="top"><p class="src"><a id="v:event" class="def">event</a> :: Event -&gt; <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> -&gt; IO <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> <a href="#v:event" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o event transforma cada de input do Jogador na sua respetiva a&#231;&#227;o/movimento e, no fim do jogo, escreve no ficheiro &quot;Wins.txt&quot; os tempos que o jogador demorou para resolver o puzzle.</p><p>Por exemplo:</p><p>Se o jogador clicar no &quot;a&quot; ou no &quot;d&quot;, anda, respetivamente, para a esquerda ou direita.</p></div></div><div class="top"><p class="src"><a id="v:cordx" class="def">cordx</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Int <a href="#v:cordx" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o retorna a coordenada x do player do jogo dado.</p></div></div><div class="top"><p class="src"><a id="v:cordy" class="def">cordy</a> :: <a href="LI12122.html#t:Jogo" title="LI12122">Jogo</a> -&gt; Int <a href="#v:cordy" class="selflink">#</a></p><div class="doc"><p>Esta fun&#231;&#227;o retorna a coordenada y do player do jogo dado.</p></div></div><div class="top"><p class="src"><a id="v:estado" class="def">estado</a> :: <a href="Tarefa5_2021li1g006.html#t:Status" title="Tarefa5_2021li1g006">Status</a> <a href="#v:estado" class="selflink">#</a></p><div class="doc"><p>Estado inicial do programa quando ele &#233; aberto, que neste caso &#233; o menu com o bot&#227;o Play selecionado.</p></div></div><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: IO () <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o principal que junta todas as fun&#231;&#245;es atr&#225;s mencionadas, carregando todas as imagens para produzir a janela com o jogo desenhado, sendo ele atualizado consoante os inputs que o utilizador d&#225;.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>